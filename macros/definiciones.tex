% Definiciones y nuevos comandos:def
% =============
% Conjuntos
\DeclareMathOperator{\partes}{\mathcal P}
\DeclareMathOperator{\relacion}{\,\mathcal{R}\,}
\DeclareMathOperator{\norelacion}{\,\cancel{\relacion}\,}
\DeclareMathOperator{\universo}{\mathcal U}
\DeclareMathOperator{\reales}{\mathbb R}
\DeclareMathOperator{\naturales}{\mathbb N}
\DeclareMathOperator{\enteros}{\mathbb Z}
\DeclareMathOperator{\racionales}{\mathbb Q}
\DeclareMathOperator{\irracionales}{\mathbb I}
\DeclareMathOperator{\complejos}{\mathbb C}


\DeclareMathOperator{\K}{\mathbb K} % cuerpo K
\DeclareMathOperator{\i}{\text{i}}
\DeclareMathOperator{\vacio}{\varnothing}
\DeclareMathOperator{\union}{\cup}
\DeclareMathOperator{\inter}{\cap}
\DeclareMathOperator{\diferencia}{\ \setminus \ }
\DeclareMathOperator{\y}{\land}
\def\o{\lor}
\def\neg{\sim}

\def\entonces{\Rightarrow}
\def\noEntonces{\centernot\Rightarrow}

\def\sisolosi{\iff} % largo
\def\sii{\Leftrightarrow} % corto

\def\clase{\overline}
\def\ord{\text{ord}}


\def\existe{\,\exists\,}
\def\noexiste{\,\nexists\,}
\def\paratodo{\ \, \forall}
\def\distinto{\neq}
\def\en{\in}
\def\talque{\;/\;}

% =====
\def\qvq{\text{ quiero ver que }}

%funciones
\DeclareMathOperator{\dom}{Dom}
\DeclareMathOperator{\cod}{Cod}
\def\F{\mathcal F}
\def\comp{\circ}
\def\inv{^{-1}}
\def\infinito{\infty}

% Llaves, paréntesis, contenedores
\newcommand{\llave}[2]{ \left\{ \begin{array}{#1} #2 \end{array}\right. }
\newcommand{\llaveInv}[2]{ \left\} \begin{array}{#1} #2 \end{array}\right. }
\newcommand{\llaves}[2]{ \left\{ \begin{array}{#1} #2 \end{array} \right\} }
\newcommand{\matriz}[2]{\left( \begin{array}{#1} #2 \end{array} \right)}
\newcommand{\deter}[2]{\left| \begin{array}{#1} #2 \end{array} \right|}
\newcommand{\lista}[2][(1)]{\begin{enumerate}[\bf #1]\setlength\itemsep{-0.6ex} #2 \end{enumerate}}
\newcommand{\listal}[2][-0.6ex]{\begin{enumerate}[\bf(a)]\setlength\itemsep{#1} #2 \end{enumerate}}

% naturales
\newcommand{\sumatoria}[2]{\sum\limits_{#1}^{#2}}
\newcommand{\productoria}[2]{\prod\limits_{#1}^{#2}}
\newcommand{\kmasuno}[1]{\underbrace{#1}_{k+1\text{-ésimo}}}
\newcommand{\HI}[1]{\underbrace{#1}_{\text{HI}}}

% % enteros
\def\divideA{\, | \,}
\def\noDivide{\centernot\divideA}
\def\congruente{\, \equiv \,}
\newcommand{\congruencia}[3]{#1 \equiv #2 \;(#3)}
\newcommand{\noCongruencia}[3]{#1 \not\equiv #2 \;(#3)}
\newcommand{\conga}[1]{\stackrel{(#1)}{\congruente}}
\newcommand{\divset}[2]{\mathcal{D}(#1) = \set{#2}}
\newcommand{\divsetP}[2]{\mathcal{D_+}(#1) = \set{#2}}
\newcommand{\ub}[2]{ \underbrace{\textstyle #1}_{\mathclap{#2}} }
\newcommand{\ob}[2]{ \overbrace{\textstyle #1}^{\mathclap{#2}} }
\def\cop{\, \perp \, }

% complejos
\DeclareMathOperator{\re}{Re}
\DeclareMathOperator{\im}{Im}
%\DeclareMathOperator{\arg}{arg}
\def\conj{\overline}

% Polinomios
\DeclareMathOperator{\cp}{cp}
\DeclareMathOperator{\gr}{gr}
\DeclareMathOperator{\mult}{mult}
\newcommand{\divPol}[2]{\polylongdiv[style=D]{#1}{#2}}
\newcommand{\mcd}[2]{\polylonggcd{#1}{#2}}


% =====
% Miscelanea
% =====
\def\ot{\leftarrow}
\newcommand{\estabien}{{\color{blue} Consultado, está bien. \checkmark}}
\newcommand{\hacer}{
  {\color{red!80!black}{\Large \faIcon{radiation} Falta hacerlo!}}\par
  {\color{black!70!white}
    \small Si querés mandarlo: Telegram $\to$ \href{https://t.me/+1znt2GV1i8cwMTNh}{\small\faIcon{telegram}},
    o  mejor aún si querés subirlo en \LaTeX $\to$ \href{https://github.com/nad-garraz/algebraUno}{\small \faIcon{github}}.
  }\par
}

\newcommand{\Hacer}{{\color{black!30!red}\Large Hacer!}}
\def\Tilde{\quad\checkmark}
\def\ytext{\text{ y }}
\def\otext{\text{ o }}

% Estrellita para hacer llamadas de atención, viene en divertidos colores
% para coleccionar.
\newcommand{\llamada}[1]{
  {\small{\textcolor{
          \ifcase \numexpr#1 mod 6\relax
            cyan\or magenta\or OliveGreen\or YellowOrange\or Cerulean\or Violet\or Purple\or
          \fi
        }
        {\text{{\small\FiveStar}}^{#1}}%
      }%
    }
}


% separadores
\def\separador{\rule{\linewidth}{0.4pt}\par}
\def\separadorCorto{\rule{0.5\linewidth}{0.4pt}\par\addvspace{10pt}}


% Colores
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\green}[1]{\textcolor{OliveGreen}{#1}}
\newcommand{\blue}[1]{\textcolor{Cerulean}{#1}}
\newcommand{\cyan}[1]{\textcolor{cyan}{#1}}
\newcommand{\yellow}[1]{\textcolor{YellowOrange}{#1}}
\newcommand{\magenta}[1]{\textcolor{magenta}{#1}}
\newcommand{\purple}[1]{\textcolor{purple}{#1}}

% Conjuntos entre llaves y paréntesis
% te ahorrás escribir los \left y \right, así dejando el código más legible.
\newcommand{\set}[1] { \left\{ #1 \right\} }
\newcommand{\parentesis}[1]{ \left( #1 \right) }

% Stackrel text. Es para ahorrarse ecribir el \text
\newcommand{\stacktext}[2]{ \stackrel{\text{#1}}{#2} }

% Dado que muchas veces ponemos cosas sobre un signo '='
%  acá está el comando para escribir \igual{arriba}[abajo] con texto!
\NewDocumentCommand{\igual}{m o}{%
  \IfNoValueTF{#2}{%
    \overset{\mathclap{\text{#1}}}=
  }{
    \overset{\mathclap{\text{#1}}}{\underset{\mathclap{\text{#2}}}=}
  }
}


%=======================================================
% Comandos con flechas extensibles.
%=======================================================
% *Flechita* extensible con texto {arriba} y [abajo] 
\NewDocumentCommand{\flecha}{m o}{%
  \IfNoValueTF{#2}{%
    \xrightarrow[]{\text{#1}}
  }{
    \xrightarrow[\text{#2}]{\text{#1}}
  }
}
% *Si solo si* extensible con texto {arriba} y [abajo] 
\NewDocumentCommand{\Sii}{m o}{%
  \IfNoValueTF{#2}{%
    \xLeftrightarrow[]{\text{#1}}
  }{
    \xLeftrightarrow[\text{#2}]{\text{#1}}
  }
}

%=======================================================
% fin comandos con flechas extensibles.
%=======================================================


% como el stackrel pero también se puede poner algo debajo
\newcommand{\taa}[3]{ % [t]exto [a]rriba y [a]bajo
  \overset{\mathclap{#1}}{\underset{\mathclap{#2}}{#3}}
}

%Update time
\def\update{
  actualizado: \today
}


%=======================================================
% sección ejercicio con su respectivo formato y contador
%=======================================================
\newcounter{ejercicio}[section] % contador que se resetea en cada sección
\renewcommand{\theejercicio}{\arabic{ejercicio}} % el contador es un número arabic
\newcommand{\ejercicio}{%
  \stepcounter{ejercicio}% incremento en uno
  \titleformat{\section}[runin]{\bfseries}{\theejercicio}{1em}{}%
  \section*{\theejercicio.}\labelEjercicio{ej:\theejercicio}
}

% Label y refencia para ejercicio hay alguna forma más elegante de hacer esto?
\newcommand{\labelEjercicio}[1]{
  \addtocounter{ejercicio}{-1} % counter - 1
  \refstepcounter{ejercicio} % referencia al anterior y luego + 1
  \label{#1}}
\newcommand{\refEjercicio}[1]{{ \bf\ref{#1}.}}

\def\fueguito{{\color{orange}{\faIcon{fire}}}}
\newcounter{ejExtra}[section] % contador que se resetea en cada sección
\renewcommand{\theejExtra}{\arabic{ejExtra}} % el contador es un número arabic
\newcommand{\ejExtra}{%
  \stepcounter{ejExtra}% incremento en uno
  \titleformat{\section}[runin]{\bfseries}{\theejExtra}{1em}{}%
  % Es como una sección. Le pongo un ícono, luego el número del ejercicio con la etiqueta para poder
  % linkearlo en el índice u otro lugar.
  % con \ref{ejExtra:{numero del ejercicio}} es que salto al ejercicio.
  \section*{\fueguito\theejExtra.}\labelEjExtra{ejExtra:\theejExtra}
}

% Label y refencia para ejercicio hay alguna forma más elegante de hacer esto?
\newcommand{\labelEjExtra}[1]{
  \addtocounter{ejExtra}{-1} % counter - 1
  \refstepcounter{ejExtra} % referencia al anterior y luego + 1
  \label{#1} % etiqueta para cada ejercicio extra
  \unskip
}
% Con esto llamos al ejercicio extra
\newcommand{\refEjExtra}[1]{
  {\fueguito\bf\ref{#1}.}
}

%=======================================================
% fin sección ejercicio con su respectivo formato y contador
%=======================================================

\newenvironment{enunciado}[1]{ % Toma un parametro obligatorio: \ejExtra o \ejercicio 
  \begin{minipage}{\textwidth}
          \par
    \vspace{5pt}
    \separador % linea sobre el enunciado
    #1
    }% contenido
    {\vspace{5pt}
    \par
    \separadorCorto % linea debajo del enunciado
  \end{minipage}
}

